
@{
    Layout = null;
}

<!DOCTYPE html>
@using WeFunModel;
<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>设置角色权限</title>
    <link rel="stylesheet" href="/Content/lib/layui-v2.5.5/css/layui.css" media="all">
    <link rel="stylesheet" href="/Content/css/public.css" media="all">
    <script src="/Content/lib/layui-v2.5.5/layui.js" charset="utf-8"></script>
    <script src="/Content/js/lay-config.js?v=1.0.4" charset="utf-8"></script>
    <script>
        layui.use(['table', 'treetable'], function () {
            var $ = layui.jquery;
            var table = layui.table;
            var treetable = layui.treetable;
            // 渲染表格
            layer.load(2);
            treetable.render({
                treeColIndex: 1,
                treeSpid: -1,
                treeIdName: 'PopID',
                treePidName: 'Parent',
                elem: '#munu-table',
                // url: '/Content/api/init.json', menus
                url: '/SystemArea/RoleManager/GetPop',
                page: false,
                cols: [[
                    { type: 'checkbox' },
                    { field: 'PopName', minWidth: 50, title: '权限名称' },
                    //{ field: 'PopIndex', title: '排序号', width: 80 },
                    //{ field: 'PopControll', minWidth: 100, align: 'center', title: '控制器' },
                    //{
                    //    field: 'Parent', width: 80, align: 'center', templet: function (d) {
                    //        if (d.Parent == -1) {
                    //            return '<span class="layui-badge layui-bg-blue">目录</span>';
                    //        } else {
                    //            return '<span class="layui-badge-rim">菜单</span>';
                    //        }
                    //    }, title: '类型'
                    //}
                ]], done: function () {
                    layer.closeAll('loading');
                }
            });
            //$('#btn-expand').click(function () {
            //    treetable.expandAll('#munu-table');
            //});

            //$('#btn-fold').click(function () {
            //    treetable.foldAll('#munu-table');
            //});
        });
    </script>
</head>
<body>
    <div class="layuimini-container">
        <input type="text" style="display:none" id="RoleID" value="@ViewBag.RoleID" />
        <div class="layuimini-main">
            <div>
                @*<div class="layui-btn-group">
                    <button class="layui-btn" id="btn-expand">全部展开</button>
                    <button class="layui-btn layui-btn-normal" id="btn-fold">全部折叠</button>
                </div>*@
                <table id="munu-table" class="layui-table" lay-filter="munu-table"></table>
            </div>
        </div>
    </div>
</body>
</html>
