
@{
    Layout = null;
}

<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>添加角色</title>
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link rel="stylesheet" href="~/Content/lib/layui-v2.5.5/css/layui.css" media="all">
    <link rel="stylesheet" href="~/Content/css/public.css" media="all">
    <script src="~/Content/lib/layui-v2.5.5/layui.js" charset="utf-8"></script>
    <script type="text/javascript"></script>
</head>
<body>
    <form class="layui-form" action="">
        <div class="layui-form-item">
            <label class="layui-form-label">角色名</label>
            <div class="layui-input-block">
                <input type="text" name="RoleName" id="RoleName" required lay-verify="required" placeholder="请输入" autocomplete="off" class="layui-input">
            </div>
        </div>
      
        <div class="layui-form-item layui-form-text">
            <label class="layui-form-label">文本域</label>
            <div class="layui-input-block">
                <textarea name="RoleDesc" id="RoleDesc" placeholder="请输入内容" class="layui-textarea"></textarea>
            </div>
        </div>
        <div class="layui-form-item">
            <div class="layui-input-block">
                <button class="layui-btn" lay-submit lay-filter="formDemo" id="Add">立即提交</button>
           
                <button type="reset" class="layui-btn layui-btn-primary">重置</button>
            </div>
        </div>
    </form>

    <script type="text/javascript">



        layui.use(['layer', 'form', 'jquery'], function () {
         
            var layer = layui.layer,
                form = layui.form;
            var $ = layui.jquery;
       

            $("#Add").click(function () {
                var obj = new Object();
                obj.RoleName = $("#RoleName").val();
                obj.RoleDesc = $("#RoleDesc").val();
                $.post('/SystemArea/RoleManager/Addstate', obj, function (data) {
                    if (data == '1') {
                       
                        layer.close(layer.index);
                        window.parent.location.reload();
                    } else {
                        layer.msg("添加失败");
                    }
                })
            })
            //监听提交
            //form.on('submit(formDemo)', function (data) {
             
            //    //$.ajax({
            //    //    type: 'post',
            //    //    url: '/SystemArea/RoleManager/Addstate',
            //    //    data: data.field,
            //    //    success: function (msg) {//有点点问题

            //    //        if (msg == '1') {
                         
            //    //            layer.close(layer.index);
            //    //            window.parent.location.reload();
            //    //        } else {
            //    //            layer.msg("添加失败")
            //    //        }
            //    //    }
            //    //});
            //})
        });
    </script>
</body>
</html>
